{
    "databaseChangeLog": [
      {
        "changeSet": {
          "id": "RecommendationRequest-1",
          "author": "MikeP",
          "preConditions": [
            {
              "onFail": "MARK_RAN"
            },
            {
              "not": [
                {
                  "tableExists": {
                    "tableName": "RECOMMENDATIONREQUEST"
                  }
                }
              ]
            }
          ],
          "changes": [
            {
              "createTable": {
                "columns": [
                  {
                    "column": {
                      "autoIncrement": true,
                      "constraints": {
                        "primaryKey": true,
                        "primaryKeyName": "RECOMMENDATIONREQUEST_PK"
                      },
                      "name": "ID",
                      "type": "BIGINT"
                    }
                  },
                  {
                    "column": {
                      "name": "USER_ID",
                      "type": "BIGINT"
                    }
                  },
                  {
                    "column": {
                      "name": "PROFESSOR_NAME",
                      "type": "VARCHAR(255)"
                    }
                  },
                  {
                    "column": {
                      "name": "PROFESSOR_EMAIL",
                      "type": "VARCHAR(255)"
                    }
                  },
                  {
                    "column": {
                      "name": "REQUESTER_NAME",
                      "type": "VARCHAR(255)"
                    }
                  },
                  {
                    "column": {
                      "name": "RECOMMENDATION_TYPES",
                      "type": "VARCHAR(255)"
                    }
                  },
                  {
                    "column": {
                      "name": "DETAILS",
                      "type": "VARCHAR(255)"
                    }
                  },
                  {
                    "column": {
                      "name": "STATUS",
                      "type": "VARCHAR(255)"
                    }
                  },
                  {
                    "column": {
                      "name": "SUBMISSION_DATE",
                      "type": "TIMESTAMP"
                    }
                  },
                  {
                    "column": {
                      "name": "COMPLETION_DATE",
                      "type": "TIMESTAMP"
                    }
                  }
                ],
                "tableName": "RECOMMENDATIONREQUEST"
              }
            }
          ]
        }
      },
      {
        "changeSet": {
          "id": "changeset-1",
          "author": "obenedek",
          "changes": [
            {
              "addForeignKeyConstraint": {
                "baseColumnNames": "USER_ID",
                "baseTableName": "RECOMMENDATIONREQUEST",
                "constraintName": "RECOMMENDATIONREQUEST_USER_ID_FK",
                "deferrable": false,
                "initiallyDeferred": false,
                "onDelete": "RESTRICT",
                "onUpdate": "RESTRICT",
                "referencedColumnNames": "ID",
                "referencedTableName": "USERS",
                "validate": true
              }
            }]
        }
      }
    ]
  }